---
layout: base.njk
title: Search
permalink: /search/
---

<div class="container">
  <div class="main-content">
    <h2>Search</h2>
    <div id="search"></div>
  </div>

  <aside class="sidebar">
    <div class="widget">
      <h4>About Search</h4>
      <p>Search across all posts and pages on Think by Numbers.</p>
    </div>

    <div class="widget">
      <h4>Follow Us</h4>
      <ul class="social-links">
        <li><a href="{{ site.social.facebook }}" target="_blank">Facebook</a></li>
        <li><a href="{{ site.social.twitter }}" target="_blank">Twitter</a></li>
        <li><a href="{{ site.social.linkedin }}" target="_blank">LinkedIn</a></li>
      </ul>
    </div>
  </aside>
</div>

<script>
  window.addEventListener('DOMContentLoaded', () => {
    // Initialize Pagefind UI
    const pagefind = new PagefindUI({
      element: "#search",
      showSubResults: true,
      showImages: false
    });

    // Auto-search if there's a query parameter
    const urlParams = new URLSearchParams(window.location.search);
    const query = urlParams.get('q');
    if (query) {
      // Wait for Pagefind to initialize, then trigger search
      setTimeout(() => {
        const searchInput = document.querySelector('#search input[type="text"]');
        if (searchInput) {
          searchInput.value = query;
          searchInput.dispatchEvent(new Event('input', { bubbles: true }));
        }
      }, 100);
    }
  });
</script>
