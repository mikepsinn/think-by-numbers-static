---
layout: base.njk
pagination:
  data: collections.posts
  size: 10
  alias: pagedPosts
permalink: "{% if pagination.pageNumber > 0 %}/page/{{ pagination.pageNumber + 1 }}/{% else %}/{% endif %}"
eleventyComputed:
  title: "{% if pagination.pageNumber > 0 %}Page {{ pagination.pageNumber + 1 }} - {% endif %}Think by Numbers"
---

<div class="container">
  <div class="main-content">
    <h2>Recent Posts</h2>

    <div class="post-grid">
      {%- for post in pagedPosts %}
      {%- if post.data.title and post.inputPath.endsWith('.md') %}
      {% include "post-card.njk" %}
      {%- endif %}
      {%- endfor %}
    </div>

    {# Pagination Navigation #}
    {%- if pagination.href.previous or pagination.href.next %}
    <nav class="pagination" aria-label="Pagination">
      <div class="pagination-links">
        {%- if pagination.href.previous %}
        <a href="{{ pagination.href.previous }}" class="pagination-link prev">‚Üê Newer Posts</a>
        {%- else %}
        <span class="pagination-link prev disabled">‚Üê Newer Posts</span>
        {%- endif %}

        <span class="pagination-info">
          Page {{ pagination.pageNumber + 1 }} of {{ pagination.hrefs | length }}
        </span>

        {%- if pagination.href.next %}
        <a href="{{ pagination.href.next }}" class="pagination-link next">Older Posts ‚Üí</a>
        {%- else %}
        <span class="pagination-link next disabled">Older Posts ‚Üí</span>
        {%- endif %}
      </div>

      {# Page numbers #}
      <div class="pagination-numbers">
        {%- for pageHref in pagination.hrefs %}
        {%- if loop.index0 == pagination.pageNumber %}
        <span class="page-number current">{{ loop.index }}</span>
        {%- else %}
        <a href="{{ pageHref }}" class="page-number">{{ loop.index }}</a>
        {%- endif %}
        {%- endfor %}
      </div>
    </nav>
    {%- endif %}
  </div>

  <aside class="sidebar">
    <div class="widget">
      <h4>Search</h4>
      <form action="/search/" method="get">
        <input type="text" name="q" placeholder="Search posts..." required>
        <button type="submit">üîç Search</button>
      </form>
    </div>

    <div class="widget">
      <h4>Follow Us</h4>
      <ul class="social-links">
        <li><a href="{{ site.social.facebook }}" target="_blank">Facebook</a></li>
        <li><a href="{{ site.social.twitter }}" target="_blank">Twitter</a></li>
        <li><a href="{{ site.social.linkedin }}" target="_blank">LinkedIn</a></li>
      </ul>
    </div>

    <div class="widget">
      <h4>Subscribe</h4>
      <p>Get new posts in your inbox</p>
      <form action="#">
        <input type="email" placeholder="Your email">
        <button type="submit">Subscribe</button>
      </form>
    </div>
  </aside>
</div>
